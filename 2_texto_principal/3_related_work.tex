% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Literature Review
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\fancychapter{Trabalho Relacionado}
\label{chap:3}

\section{Monitorização Doméstica de Idosos}
\label{chap:3:sec:1}
Em \cite{16} faz-se uma análise de aspectos fundamentais na monitorização doméstica de idosos ouvindo os profissionais de cuidados de saúde. São também neste mesmo trabalho sugeridas diversas propriedades monitorizáveis e feita uma análise global da rede de cuidados de saúde.

\subsection{Necessidades nos Cuidados de Saúde}
\label{chap:3:sec:1.1}

No estudo intitulado \textit{``The Activities of Daily Living Study''} em \cite{16} são examinados questionários (91) feitos a profissionais de saúde que prestam cuidados de monitorização ao domicílio. Pretende-se determinar a forma como a tecnologia pode ajudar pessoas idosas a envelhecer em casa com a colaboração dos profissionais de saúde, a necessidade de autonomia do idoso e as necessidades da família e amigos.

Designam-se \acfp{CM} aos profissionais de saúde que prestam cuidados ao domicílio (ex:enfermeiros,médicos). Os \acsp{CM} interagem de forma activa com as pessoas idosas, presencialmente ou por telefone. 

Uma parte significativa da monitorização do \acsp{CM} são as chamadas \acfp{ADL}, uma lista de actividades que permite medir a função cognitiva e física do idoso (Tabela \ref{tab:1:adls}).

\begin{table}[!htb]
  \centering
  \includegraphics[width=1\textwidth]{img/03_adls.png}
  \caption{Índice de independência nas ADLs \cite{17}.}
  \label{tab:1:adls}
\end{table}

Esta lista permite definir numa escala de 0-muito dependente a 6-independente, o grau de dependência do idoso. São também apresentados desafios à introdução de novas tecnologias pelos \acsp{CM}, nomeadamente:

\begin{itemize}
\item Receio de perda do emprego por parte dos \acsp{CM};
\item Problemas de aceitação da nova tecnologia por parte dos idosos, visto que estes têm tendência a esconder informação com receio de irem para a um lar de idosos;
\item Problemas de privacidade;
\end{itemize}

O processo de integração de um sistema de monitorização apenas pode ser um sucesso se os profissionais de saúde estiverem activamente envolvidos na sua implementação.

São identificadas diversos problemas de saúde nos idosos, sendo os mais comuns a fraqueza, diabetes, surdez, perda de visão, deficiência nutricional e demência moderada.

\begin{table}[!htb]
  \centering
  \includegraphics[width=0.95\textwidth]{img/03_elder_tech_acceptance.png}
  \caption{Uso de tecnologia pelos Idosos \cite{16}.}
  \label{tab:3:elderTechAccept}
\end{table}

Na Tabela \ref{tab:3:elderTechAccept} o estudo identifica as tecnologias e a sua aceitação por parte dos idosos. A comunicação e a segurança são identificados claramente como muito valorizados, através dos botões de emergência e sistemas de segurança, enquanto que a tecnologia de monitorização coloca mais incerteza e desconfiança aos idosos. 

\subsection{Necessidades na Monitorização}
\label{chap:3:sec:1.2}

Com base nos resultados do estudo referenciado na Secção \ref{chap:3:sec:2.1} o trabalho \cite{16} faz uma análise de diversas temáticas de utilização de um sistema de monitorização. 

\textbf{Localização doméstica}. Determinar se o idoso se levantou pela manhã e os seus padrões de movimento são também apontadas como duas informações importantes. Uma granularidade menor que a divisão pode por isso ser importante sendo necessária uma maior precisão do sistema. 

\textbf{Agendamento de visitas ao domicílio}. Saber se o idoso está ou não em casa é apontado pelos \acsp{CM} como um factor de melhoria no agendamento de visitas ao domicílio.

\textbf{Visitas ao Hospital e Socialização}. A integração do sistema de monitorização doméstico com outro baseado em GPS e integrado no sistema de saúde permitiria para todos os intervenientes no sistema saber onde estava um idoso a qualquer momento para além do ambiente doméstico.

\textbf{Número de ocupantes da casa}. Sabendo os padrões de ocupação da casa é possível perceber quais os momentos em que os idosos têm menos apoio familiar. Em casos mais agudos esta monitorização permitiria determinar se era ou não seguro para o idoso continuar em sua casa durante uma determinada altura do dia.

\textbf{Animais de estimação}. A maioria dos clientes dos \acsp{CM} entrevistados tinham animais de estimação o que pode ser um problema para sistemas baseados em sensores de pressão.

\textbf{Oportunidades de instrumentação}. São apresentadas diversas oportunidades de instrumentação sem grande necessidade da mudança de hábitos como a aplicação de sensores a bengalas, andarilhos ou cadeiras de rodas. O facto de existir uma baixa partilha deste tipo de objectos indica que seriam uma boa hipótese de monitorização não-intrusiva. 

\textbf{Privacidade}. É bastante refutada a utilização de câmaras, microfones ou \acsp{PDA} enquanto que os sensores de movimento poderiam ser alternativas viáveis.

\begin{table}[!htb]
  \centering
  \includegraphics[width=0.9\textwidth]{img/03_adls_monit_rank.png}
  \caption{Classificação das ADLs \cite{16}.}
  \label{tab:4:adlsMonitRank}
\end{table}

\textbf{Escolha das \acsp{ADL} a monitorizar}. Na Tabela \ref{tab:4:adlsMonitRank} é feita uma classificação das \acsp{ADL}. O maior valor acrescentado está naquelas que são mais difíceis de obter mas mais importantes para serem conhecidas pelo \acs{CM}.

\textbf{Atenção à actividade das famílias ou assistentes}. É importante perceber se existe de facto um apoio real dos familiares ou outros assistentes ao idoso, para além de saber que o mesmo está acompanhado.

\textbf{Monitorização do uso de equipamentos}. A inclusão nos equipamentos de saúde de sensores que analisem o estado do equipamento ou a força exercida pelo idoso no mesmo, poderiam ajudar a determinar melhor o ponto em que é necessário passar de uma bengala para um andarilho ou de um andarilho para uma cadeira de rodas.

\section{Localização em Redes de Sensores Wireless}
\label{chap:3:sec:2}
A chave para obter uma localização fiável é representar de forma precisa os efeitos da degradação causada pelo canal de propagação no sinal. A propagação no mundo real sofre diversas perturbações causadas por obstruções, reflexões e pessoas ou objectos em movimento, o que torna esta representação um problema de elevada complexidade. Nesta secção enumeram-se os tipos de medições que permitem inferir uma localização e analisa-se bibliografia relacionada com o objectivo de identificar algoritmos de localização distintos, as suas vantagens e desvantagens na aplicação ao objecto deste trabalho.

\subsection{Medidas de Localização}
\label{chap:3:sec:2.1}
Vários tipos de medições permitem inferir uma localização, nomeadamente:

\begin{itemize}
\item \acf{TOA}
\item \acf{TDOA}
\item \acf{RSS}
\item \acf{POA}
\item \acf{AOA}
\end{itemize}

Na medida do \textbf{\acs{TOA}} mede-se o tempo que um sinal demora a chegar ao nó de destino. A distância entre origem e destino é obtida multiplicando o atraso entre o momento da transmissão e o momento da recepção do sinal pela velocidade de propagação do sinal.O requisito mais importante é a sincronização entre nós que obriga à existência de hardware de maior complexidade e a troca de mensagens de sincronização. Ruído aditivo e efeitos multi-caminho são as maiores fontes de erro neste tipo de medição.

Utilizando o \textbf{\acs{TDOA}} é medida a diferença entre os tempos de chegada em diversos nós dum mesmo sinal enviado pelo emissor. Um mínimo de dois nós é necessário para uma estimativa em duas dimensões da posição do do emissor. À semelhança do \acs{TOA} é necessária sincronização entre os nós o  que obriga uma vez mais a hardware complexo que aumenta o custo do nó.

O \acs{RSS} é a medida da potência do sinal recebido. Este método não necessita de qualquer hardware especial para sincronização. A potência do sinal é uma função da distância, cuja localização pode ser baseada num modelo, onde se admite que as características de propagação do sinal são bem conhecidas ou então baseada num mapa de medições, \acf{RM}, onde é feita uma amostragem da potência em diversas localizações.

Com a medida \acs{POA} o objecto de medição é o ângulo de chegada. Este método usa a diferença na fase do sinal para determinar a localização do nó emissor.

Por último a medida de \acs{AOA} indica o ângulo a que o sinal chega ao receptor, medido com antenas direccionais ou um conjunto de antenas.São usadas relações geométricas simples para calcular a posição do nó emissor.

\subsection{Sistemas de Localização}
\label{chap:3:sec:2.2}
Os esquemas de localização são diversos e variam conforme o tipo de aplicação. 

\begin{figure}[!htb]
  \centering
  \includegraphics[width=1\textwidth]{img/03_localization_class.png}
  \caption{Classificação da localização em redes WSN \cite{27}.}
  \label{fig:3:localizationClass}
\end{figure}

A partir da Figura \ref{fig:3:localizationClass} é possível, desde já, fazer algumas observações relativas ao tema deste trabalho.

\textbf{Área de Instalação}: A área de instalação deverá ser local uma vez que estamos perante um ambiente doméstico.

\textbf{PHY}: O sinal rádio obtido deverá ser a \acs{RF} pois o infravermelho necessita de estar na linha de visão o que não será sempre possível num ambiente doméstico e o ultra-som, embora tenha uma precisão bastante elevada é uma tecnologia cara.

\textbf{Medida de Localização}: Dada o baixo custo do hardware a utilizar a medida deverá ser a potência do sinal.

\textbf{Tabela de Procura}: A monitorização será feita no interior onde o percurso do sinal sofre muitas perturbações. Assim sendo a colecção de medidas prévia será a opção indicada uma vez que o modelo de propagação é altamente complexo e pode variar bastante e a utilização de agentes aumenta bastante o custo.

\textbf{Técnica de Estimação}: Neste caso a resposta não é tão evidente e terão de ser comparadas as precisões de cada uma das opções: Determinístico ou Probabilístico.

\textbf{Entidade localizadora}: As entidades a localizar são os nós móveis e como tal deverá ser a rede a efectuar a localização para efectuar uma poupança de energia no nó móvel.

\textbf{Segurança}: Embora se tenha optado por deixar esta questão fora do âmbito deste trabalho por limitações do simulador, um sistema de monitorização doméstica não poderia ser aberto pelas questões de privacidade abordadas na Secção \ref{chap:3:sec:1.2}.

Feitas algumas opções são analisados alguns trabalhos que se enquadram nas características escolhidas.

O RADAR \cite{28}, é um método determinístico onde é feita a localização recorrendo a diversas \acfp{BS} numa \acs{WLAN} e apresenta segundo os autores uma precisão de 2.94 m em 50\% dos casos. Este esquema de localização usa a potência do sinal \acs{RF} de vários \acfp{AP} para triangular a posição do nó móvel. Tem uma fase \textit{offline} onde é construído um mapa rádio do local, em que o nó móvel envia pacotes (\textit{beacons}) para os nós fixos que registam cada amostra, sendo o conjunto de amostras reunido numa tabela com tuplos da forma \begin{math}(x,y,d,ss_i,snr_i)\end{math} para cada \begin{math}BS_i\end{math}.Posteriormente na fase \textit{online} é feita uma comparação entre os sinais recebidos e o mapa rádio que permite obter a coordenada mais próxima para a potência registada. Através do centróide das várias posições obtidas para cada {AP} obtém-se então a coordenada estimada do nó móvel.

Em \cite{29} temos o MoteTrack que, com base no trabalho RADAR, sugere um esquema para uma rede de sensores wireless. É indicada uma precisão de 2m em 50\% dos casos e de 3m em 80\% dos casos.Este sistema de localização foca a robustez, a distribuição do algoritmo e a precisão da localização.  Na Figura \ref{fig:4:motetrack} podemos observar o sistema MoteTrack. \textit{B1},  \textit{B2} e \textit{B3} são nós fixos e \textit{M} um nó móvel. Na fase \textit{offline}, para cada posição, é feita uma recolha pelo nó móvel de várias mensagens assinatura enviadas pelos nós fixos  \begin{math}B_i\end{math}, dando origem a uma tabela de tuplos \begin{math}(x,y,B_i,P_i,RSSImedio)\end{math} que constitui o mapa rádio. Na fase \textit{online} o nó móvel recebe a assinatura do nó fixo durante um determinado tempo de amostragem. Após esse tempo devolve o resultado para o nó fixo de modo a que este determine posição com base nas amostras que detém. Cada nó fixo devolve a sua estimativa para o nó móvel que calcula o centróide das diversas posições recebidas. 

\begin{figure}[!htb]
  \centering
  \includegraphics[width=1\textwidth]{img/03_motetrack.png}
  \caption{Sistema de localização MoteTrack \cite{29}.}
  \label{fig:4:motetrack}
\end{figure}
 
O HORUS \cite{31},um método probabilístico, apresenta uma precisão de 0.86 a 1.32m para 90\% dos casos. Num método probabilístico é guardada informação sobre as distribuições da potência do sinal em vez da média como num método determinístico. O objectivo do HORUS é atingir um alto nível de precisão e baixas necessidades de processamento. À semelhança do MoteTrack, este método usa técnicas de \textit{clustering} para reduzir o espaço de procura quando tenta obter uma posição a partir do mapa rádio. O sistema é constituído também por uma fase \textit{offline} onde é feita a construção de um mapa rádio que é depois divido em \textit{clusters}. Na fase \textit{online} é feito no nó móvel o cálculo da posição recorrendo a várias filtros, que vão passo a passo melhorando a precisão da localização.

\section{Encaminhamento em Redes de Sensores Wireless}
\label{chap:3:sec:3}
Com a redução do custo dos sensores wireless tornou-se possível construir \acsp{WSN} com centenas ou milhares de nós. A falta de um esquema global de endereçamento, as condicionantes energéticas ou a possibilidade de existirem nós que se movimentam provocando modificações na topologia da rede recorrentes, faz surgir a necessidade de encontrar um protocolo de encaminhamento adequado.

\subsection{Desafios e Decisões de Design}
\label{chap:3:sec:3.1}
Em \cite{18} são abordados os diversos desafios no design de protocolos de encaminhamento.

Uma \acs{WSN} apresenta diversas restrições tais como fornecimento de energia limitado pelo uso de bateria, processamento limitado ou largura de banda reduzida devido a rádios relativamente simples.

\textbf{Instalação dos nós}. A forma como os nós são instalados depende do tipo de aplicação e pode ser determinística ou aleatória. Se for aleatória a distribuição não é uniforme o que pode requerer \textit{clustering}. A distância de transmissão é reduzida o que obriga a que a comunicação seja feita através de vários nós.

\textbf{Tolerância a falhas}. Alguns sensores podem falhar devido à falta de energia, dano físico ou interferência. Essas falhas não podem por isso condicionar ou impedir a comunicação e devem existir protocolos \acs{MAC} e de encaminhamento que consigam detectar essa situação e reformular a topologia da rede.

\textbf{Modelo de aquisição de dados}. A forma como é feita a aquisição de dados é dependente da aplicação e pode ser orientada ao tempo, para aplicações de monitorização periódica ou ao evento para e à \textit{query}, para nós que reagem a mudanças na medição de parâmetros ou a um pedido feito pela \acf{BS}. 

\textbf{Homogeneidade dos nós ou ligações}. Os nós podem ter todos capacidades iguais sendo a rede homogénea ou então podem ter capacidades diferenciadas, havendo nós mais básicos e outros mais complexos.

\textbf{Escalabilidade}. Devido ao elevado número de nós possível numa \acs{WSN} qualquer protocolo de encaminhamento deve ser escalável reagindo de forma automática à adição ou remoção de nós da rede.

\textbf{Dinâmica da rede}. A maior parte das arquitecturas assume que os nós estão fixos. No entanto para aplicações em que a topologia muda, a estabilidade dos caminhos torna-se um assunto importante, sendo necessário efectuar a actualização periódica ou redescoberta de novos caminhos.

\textbf{Agregação de dados}. Os dados de vários sensores podem ser agregados para que o número de transmissões sofra uma redução. A agregação pode ser feita com remoção de duplicados, valores mínimos, valores máximos e valores médios. 

\textbf{\acf{QoS}}. Em algumas aplicações os dados têm de ser entregues com sucesso durante um determinado limite de tempo após a sua obtenção, caso contrário perdem significado ou introduzem erros desnecessários no sistema. Este limite de tempo pode ser gerido de forma dinâmica conforme a qualidade da transmissão.

\clearpage

\subsection{Protocolos de Encaminhamento}
\label{chap:3:sec:3.2}
Os protocolos nas \acsp{WSN} podem ser classificados conforme a sua estrutura em \textit{flat-routing} onde todos os nós têm as mesmas capacidades e papéis na rede, \textit{hierarchical-routing} em que existem nós com capacidades diferenciadas e papéis diferentes e \textit{location-based routing} onde a posição dos nós é parte integrante do protocolo de encaminhamento.

\title{\textbf{Flat-routing}}

O \acf{SPIN} \cite{20} surge com a necessidade de resolver três problemas nos métodos clássicos de envio de mensagens (\textit{Flooding} e \textit{Gossiping}), a implosão causada pela recepção de várias mensagens repetidas vindas de vários nós diferentes, a sobreposição resultante da dos dados obtidos por sensores próximos e a falta de adaptação aos recursos existentes no nó. Na Figura \ref{fig:1:spin} está um exemplo onde são utilizadas os três tipos de mensagens ADV (\textit{advertisment}), REQ (\textit{request} e DATA. O nó A pretende enviar uma mensagem para o nó B e envia um ADV (a). B está pronto para receber e envia para A um REQ (b). A recebe o REQ e envia uma mensagem DATA para B (c). B continua o processo da mesma forma para os seus nós vizinhos. Este protocolo permite poupar energia e reduzir o envio de informação redundante mas não dá garantias de entrega de dados.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.75\textwidth]{img/03_spin.png}
  \caption{Protocolo SPIN \cite{20}.}
  \label{fig:1:spin}
\end{figure}

\clearpage

O \acf{DD} \cite{21} introduz um método de procura através da propagação de interesses e criação de gradientes construídos à medida que um determinado percurso vai sendo utilizado cada vez mais utilizado.

O \acf{AODV} \cite{22} introduz o conceito da descoberta de caminhos e da persistência dos mesmos de forma distribuída por todos os nós. É um protocolo \textit{On-demand} que só entra em acção quando é necessário enviar uma nova mensagem e com mecanismos de \textit{Self-healing} que permitem recuperar um caminho quando por alguma razão existiu uma alteração de topologia. Apresenta duas fases, uma de descoberta de caminho e outra de utilização desse caminho.

Em \cite{23} é abordado o \acf{DSR} semelhante ao \acs{AODV} tem como objectivo diminuir a largura de banda consumida pelas mensagens de controlo e necessidade de manutenção através de \textit{beacons}. O percurso é guardado na mensagem e vai sendo actualizado à medida que, na fase de descoberta de caminho, esta vai passando em cada nó.

\title{\textbf{Hierarchical-routing}}

No trabalho \cite{24} é proposto o \acf{LEACH}, um protocolo baseado em \textit{clusters}, que usa coordenação entre nós e através de uma mudança aleatória do \textit{cluster-head} distribui de forma eficiente o consumo de energia  por todos os nós. Este protocolo consegue reduzir o consumo de energia até oito vezes menos que outros protocolos hierárquicos. O facto dos nós estarem agrupados em \textit{clusters} permite que a informação dos diversos nós não coordenadores possa ser agregada antes de ser enviada para uma \acs{BS}. Como desvantagens tem o facto de não ser aplicável em redes de grande área, tem um \textit{overhead} extra de mensagens controlo e assume que todos os nós iniciam o seu funcionamento com a mesma energia e que tanto um nó coordenador como um nó simples consumem a mesma energia. Na Figura \ref{fig:2:leach} está um exemplo de aplicação.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=1\textwidth]{img/03_leach.png}
  \caption{Exemplo de funcionamento do protocolo LEACH.}
  \label{fig:2:leach}
\end{figure}

Outro protocolo hierárquico é o \acf{PEGASIS} \cite{25} que surge como um melhoramento do \acs{LEACH}. Este protocolo aumenta o tempo de vida de cada nó usando técnicas colaborativas, onde cada nó fala apenas com o seu vizinho mais próximo e transmite alternadamente para a \acs{BS}, eliminando assim a necessidade de formação de \textit{clusters} de forma dinâmica e existência de vários nós coordenadores. Como desvantagens o facto de se assumir que todos os nós conseguem comunicar com a \acs{BS} directamente, que os nós têm o mesmo nível de energia e podem desligar-se ao mesmo tempo ou a possibilidade do coordenador único se tornar um \textit{bottleneck} no sistema.

\title{\textbf{Geographic-based Routing}}

Em \cite{26} é abordado o \acf{GEAR}. Este protocolo surge em redes com um número elevado de sensores e onde poderão ser feitas consultas a determinadas zonas geográficas da rede, sem que tal seja feito com recurso a \textit{flooding}. São utilizadas heurísticas baseadas na energia dos nós e informação sobre a sua posição para encaminhar um pacote para uma determinar região.

% Ensure that the next chapter starts in a odd page
\cleardoublepage